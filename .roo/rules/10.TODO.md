# Cards Repo - Development TODO

This file tracks the development progress based on the established roadmap.

## Phase 1: Foundation & MVP – The Core Archive
- [ ] **Project Scaffolding (Monorepo Setup)**
  - [ ] Create the root `CardsRepo` directory.
  - [ ] Initialize a `pnpm` workspace.
  - [ ] Create `packages/client` for the React frontend.
  - [ ] Create `packages/server` for the Node.js/Express backend.
- [ ] **Server Development (Backend API V1)**
  - [ ] Initialize Node.js/TypeScript project in `packages/server`.
  - [ ] Setup basic Express server with CORS.
  - [ ] Create `data/cards` and `data/images` directories.
  - [ ] Implement `POST /api/cards/upload` endpoint.
  - [ ] Implement `GET /api/cards` endpoint.
  - [ ] Implement `GET /api/cards/:id` endpoint.
  - [ ] Implement `GET /api/images/:imageFilename` endpoint.
- [ ] **Client Development (Frontend UI)**
  - [ ] Initialize React/Vite/TypeScript project in `packages/client`.
  - [ ] Configure Tailwind CSS.
  - [ ] Migrate `png.ts` logic to `src/lib/card-parser.ts`.
  - [ ] Set up Zustand for state management.
  - [ ] Create `UploadCard` component.
  - [ ] Create `CardGallery` component/page.
  - [ ] Create `CardDetails` component/page.
  - [ ] Implement routing between gallery and details pages.

## Phase 2: Core Features – Organization & Interaction
- [ ] **Card Management (CRUD Operations)**
  - [ ] Backend: Implement `PUT /api/cards/:id` endpoint.
  - [ ] Backend: Implement `DELETE /api/cards/:id` endpoint.
  - [ ] Frontend: Add "Edit" and "Delete" functionality to the `CardDetails` page.
- [ ] **Tagging System**
  - [ ] Backend: Update card model to include `tags`.
  - [ ] Backend: Implement `GET /api/tags` endpoint.
  - [ ] Frontend: Add tag editing/creation to the "Edit Card" form.
  - [ ] Frontend: Display tags on card views.
- [ ] **Search & Filtering (V1)**
  - [ ] Backend: Enhance `GET /api/cards` to support `q` and `tags` query parameters.
  - [ ] Frontend: Add search bar to `CardGallery`.
  - [ ] Frontend: Add tag filter to `CardGallery`.
- [ ] **User Experience**
  - [ ] Implement Light/Dark mode toggle.

## Phase 3: Advanced Management – Power & Efficiency
- [ ] **Advanced Filtering**
  - [ ] Backend: Enhance `GET /api/cards` for more filters (`hasLorebook`, `isFavorite`, etc.).
  - [ ] Frontend: Create a dedicated "Filters" panel.
- [ ] **Favorites System**
  - [ ] Backend: Add `isFavorite` field to the card model.
  - [ ] Frontend: Add "Favorite" button to cards.
- [ ] **Bulk Actions**
  - [ ] Frontend: Implement "select mode" in the gallery.
  - [ ] Backend: Implement `POST /api/cards/bulk-update` endpoint.
- [ ] **Merge Cards**
  - [ ] Frontend: Create a "Merge" UI flow.
  - [ ] Backend: Implement `POST /api/cards/merge` endpoint.
- [ ] **Tag Management Page**
  - [ ] Frontend: Create a new page for managing tags.
  - [ ] Backend: Implement endpoints for renaming, deleting, and merging tags.

## Phase 4: Personalization, Data Integrity & Deployment
- [ ] **Data Integrity**
  - [ ] Backend: Implement `GET /api/admin/backup` endpoint.
  - [ ] Backend: Implement `POST /api/admin/restore` endpoint.
  - [ ] Backend: Implement versioning on card edits.
  - [ ] Frontend: Create a "Settings" page for these actions.
- [ ] **Personalization**
  - [ ] Add `userNotes` field to the card model and UI.
- [ ] **Security (Single-User)**
  - [ ] Backend: Implement password protection using a `.env` file and JWT.
  - [ ] Backend: Create authentication middleware.
  - [ ] Frontend: Create a Login page.
- [ ] **Deployment**
  - [ ] Create comprehensive `README.md` documentation for setup and execution.